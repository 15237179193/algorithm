## 有效的数独

请你判断一个 9x9 的数独是否有效。只需要 根据以下规则 ，验证已经填入的数字是否有效即可。

1. 数字 1-9 在每一行只能出现一次。

2. 数字 1-9 在每一列只能出现一次。

3. 数字 1-9 在每一个以粗实线分隔的 3x3 宫内只能出现一次。（请参考示例图）

数独部分空格内已填入了数字，空白格用 '.' 表示。

注意：

- 一个有效的数独（部分已被填充）不一定是可解的。

- 只需要根据以上规则，验证已经填入的数字是否有效即可。
 

示例 1：

![示例1](https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/04/12/250px-sudoku-by-l2g-20050714svg.png)

    输入：board = 
    [["5","3",".",".","7",".",".",".","."]
    ,["6",".",".","1","9","5",".",".","."]
    ,[".","9","8",".",".",".",".","6","."]
    ,["8",".",".",".","6",".",".",".","3"]
    ,["4",".",".","8",".","3",".",".","1"]
    ,["7",".",".",".","2",".",".",".","6"]
    ,[".","6",".",".",".",".","2","8","."]
    ,[".",".",".","4","1","9",".",".","5"]
    ,[".",".",".",".","8",".",".","7","9"]]
    
    输出：true

示例 2：

    输入：board = 
    [["8","3",".",".","7",".",".",".","."]
    ,["6",".",".","1","9","5",".",".","."]
    ,[".","9","8",".",".",".",".","6","."]
    ,["8",".",".",".","6",".",".",".","3"]
    ,["4",".",".","8",".","3",".",".","1"]
    ,["7",".",".",".","2",".",".",".","6"]
    ,[".","6",".",".",".",".","2","8","."]
    ,[".",".",".","4","1","9",".",".","5"]
    ,[".",".",".",".","8",".",".","7","9"]]
    
    输出：false
    
    解释：除了第一行的第一个数字从 5 改为 8 以外，空格内其他数字均与 示例1 相同。 但由于位于左上角的 3x3 宫内有两个 8 存在, 因此这个数独是无效的。

提示：

- board.length == 9

- board[i].length == 9

- board[i][j] 是一位数字或者 '.'

相关标签：哈希表

作者：力扣 (LeetCode)

链接：https://leetcode-cn.com/leetbook/read/top-interview-questions-easy/x2f9gg/

来源：力扣（LeetCode）

著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

## 代码实现

```
class Solution {

    /**
     * @param String[][] $board
     * @return Boolean
     */
    function isValidSudoku($board) {
        //默认数独符合规则
        $res = true;

        //判断行
        for ($i = 0; $i < count($board); $i++) {
            $subRowAryCount = array_count_values($board[$i]);
            foreach ($subRowAryCount as $k => $v) {
                if ($k != '.' && $v >= 2) {
                    $res = false;
                    return $res;
                }
            }
        }
        //判断列
        for ($i = 0; $i < 9; $i++) {
            $subColAry = array_column($board, $i);
            $subColAryCounts = array_count_values($subColAry);
            foreach ($subColAryCounts as $k => $v) {
                if ($k != '.' && $v >= 2) {
                    $res = false;
                    return $res;
                }
            }
        }
        //判断3x3方形
        for ($i = 0; $i < 3; $i++) {
            $subAry = array_slice($board, $i * 3, 3);
            for ($j = 0; $j < 3; $j++) {
                $subChildAry = [];

                $subChildAry = array_merge($subChildAry, array_column($subAry, $j * 3 + 0));
                $subChildAry = array_merge($subChildAry, array_column($subAry, $j * 3 + 1));
                $subChildAry = array_merge($subChildAry, array_column($subAry, $j * 3 + 2));

                $subChildAryCounts = array_count_values($subChildAry);
                foreach ($subChildAryCounts as $k => $v) {
                    if ($k != '.' && $v >= 2) {
                        $res = false;
                        return $res;
                    }
                }
            }
        }

        return $res;
    }
}
```

